<head>
  <title>@channel</title>
</head>

<body>
    <div class="chat">
        <div class="row chat-row" style="height: 50%; text-align: center; padding-top: 80px;">
            <h1>Welcome to</h1>
            <h1 style="font-size: 90px;">@channel</h1>
        </div>
        {{> chatrow}}
        <div class="row filler-row" style="visibility: hidden; height: 50%;"></div>
    </div>
    <div class="chat-input">
        {{> input}}
    </div>

    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title" id="exampleModalLabel">Choose a username</h4>
            </div>
            <div class="modal-body">
                <p><small>'Anonymous' will be your username if you don't enter one</small></p>
                <div class="form-group">
                  <label for="recipient-name" class="control-label">Username:</label>
                  <input type="text" class="form-control" id="selected-user-name" />
                </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button id="submit-username" type="button" class="btn btn-primary">Submit</button>
            </div>
          </div>
        </div>
    </div>
</body>

<template name="input">
    <div class="input-group">
        <span class="input-group-addon username" id="basic-addon2">Anonymous</span>
        <input type="text" id="message" class="form-control" placeholder="Message" aria-describedby="basic-addon2">
        <span class="input-group-btn">
            <button id="post" class="btn btn-default" type="button">Post</button>
        </span>
    </div>
</template>

<template name="chatrow">
    {{#each messages}}
    <div class="row chat-row">
        <div class="avatar">
            <img src="/smile.jpg" class="img-rounded">
        </div>
        <div class="bubble-container">
            <div class="bubble">
                <p class="chat-row-header">
                    <strong><span class="postNumber"></span> &nbsp; {{name}} [sage]</strong>
                    <strong>ID:{{chopID _id}}</strong>
                </p>
                <p>{{message}}</p>
                <p class="time">
                    <span>{{prettifyTime time}}</span>
                </p>
            </div>
        </div>
    </div>
    {{/each}}
</template>
